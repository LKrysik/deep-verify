# Deep-Process v3.6 â€” Process Manifest
# Registry of all SRE-Convergent process definitions

manifest_version: "3.6"
description: |
  This manifest lists all processes transformed to SRE-Convergent standard.
  Each process inherits from Deep-Process meta-class and uses its execution framework.

# ============================================================================
# PROCESS REGISTRY
# ============================================================================

processes: []
  # Example entry (uncomment when adding processes):
  # - id: "PROC-ONBOARDING"
  #   name: "Customer Onboarding"
  #   description: "Process for onboarding new customers"
  #   path: "onboarding/"
  #   version: "1.0"
  #   origin: "migrated"  # migrated | created
  #   source: "External CRM workflow"
  #   status: "active"    # active | deprecated | draft

# ============================================================================
# PROCESS DEFINITION SCHEMA
# ============================================================================

process_definition_schema:
  required_files:
    - "process.yaml"      # Process metadata and configuration

  optional_files:
    - "steps/"            # Step definitions (if multi-step)
    - "templates/"        # Artifact templates specific to this process
    - "gates/"            # Logic gates and conditions
    - "README.md"         # Human-readable documentation

  process_yaml_structure:
    id: "string (PROC-XXX format)"
    name: "string"
    description: "string"
    version: "string"

    # Inheritance from Deep-Process
    inherits:
      framework: "deep-process"
      version: "3.6"

    # Process-specific method injection
    methods:
      default: []           # Always applied
      on_start: []          # Applied at process start
      on_complete: []       # Applied at completion

    # Process steps/phases
    steps: []

    # Artifacts this process produces
    artifacts: []

    # Decision points (human-in-the-loop)
    decision_points: []

# ============================================================================
# INSTANCE TRACKING
# ============================================================================

# Instances are tracked in .deep-process/registry.json at runtime
# This manifest only defines WHAT processes exist
# Registry defines WHERE instances are running

instance_tracking:
  location: ".deep-process/registry.json"
  artifacts_base: "artifacts/processes/"

  instance_structure:
    instance_id: "unique identifier (e.g., onboarding-client-abc-001)"
    process_type: "reference to process id from this manifest"
    artifacts_path: "artifacts/processes/{instance_id}/"
    status: "PENDING | RUNNING | PAUSED | COMPLETED | FAILED"
    started_at: "ISO timestamp"
    last_activity: "ISO timestamp"
    current_step: "step id or null"
    context: {}  # Process-specific runtime context

# ============================================================================
# MIGRATION PROTOCOL
# ============================================================================

migration:
  description: |
    When external process is transformed to SRE-Convergent standard:
    1. Create folder in processes/ with process definition
    2. Add entry to this manifest
    3. Process becomes available for instantiation

  transformation_methods:
    - 71   # First Principles Analysis
    - 72   # 5 Whys Deep Dive
    - 79   # Operational Definition
    - 90   # Dependency Topology Mapping
    - 95   # Structural Isomorphism
    - 100  # Vocabulary Consistency
    - 114  # Reversibility Test
    - 159  # Transitive Dependency Closure
