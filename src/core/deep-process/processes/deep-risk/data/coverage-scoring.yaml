# Coverage Scoring Rules for Deep Risk V1.0
# PURPOSE: Measure assessment thoroughness

---
scoring:
  # Phase completion
  phases:
    phase_completed: 3.0
    description: "Each of 7 phases (GROUND through OUTPUT) completed"

  # Method execution
  methods:
    method_executed: 1.0
    description: "Each of 44 methods executed"

  # Risk discovery
  discovery:
    risk_identified: 0.5
    risk_interaction_mapped: 0.5
    cascade_chain_found: 0.3
    common_mode_failure_found: 0.5
    blind_spot_surfaced: 0.5

  # Mitigation quality
  mitigation:
    mitigation_with_cobra_check: 1.0
    defense_in_depth_designed: 0.5
    graceful_degradation_planned: 0.5

  # Monitoring
  monitoring:
    leading_indicator_defined: 0.3
    escalation_protocol_defined: 0.3
    accumulation_watch_set: 0.5

  # META methods
  meta:
    meta_method_applied: 0.5
    bias_identified_and_adjusted: 0.5
    simpson_paradox_checked: 0.5

---
# Thresholds by depth level
thresholds:
  quick:
    comprehensive: 15
    adequate: 10
    partial: 5
    insufficient: 0
    description: "Rapid triage - 1-2 hours"
    expected_phases: [0, 1, 3, 5, 7]  # GROUND, IDENTIFY-V, QUANTIFY, MITIGATE, OUTPUT
    expected_methods: "~12"

  standard:
    comprehensive: 35
    adequate: 25
    partial: 15
    insufficient: 0
    description: "Full assessment - half day"
    expected_phases: [0, 1, 2, 3, 4, 5, 6, 7]  # All
    expected_methods: "~30"

  comprehensive:
    comprehensive: 50
    adequate: 40
    partial: 30
    insufficient: 0
    description: "Deep assessment - 1-2 days"
    expected_phases: [0, 1, 2, 3, 4, 5, 6, 7]  # All + META continuous
    expected_methods: "~40"

  critical:
    comprehensive: 65
    adequate: 55
    partial: 45
    insufficient: 0
    description: "Maximum rigor - multi-day"
    expected_phases: [0, 1, 2, 3, 4, 5, 6, 7]  # All including chaos probes
    expected_methods: "44 (all)"

---
# Calculation formula
calculation: |
  C = (phases_completed × 3)
    + (methods_executed × 1)
    + (risks_identified × 0.5)
    + (risk_interactions_mapped × 0.5)
    + (cascade_chains × 0.3)
    + (common_mode_failures × 0.5)
    + (blind_spots × 0.5)
    + (mitigations_with_cobra × 1)
    + (defense_in_depth × 0.5)
    + (graceful_degradation × 0.5)
    + (leading_indicators × 0.3)
    + (escalation_protocols × 0.3)
    + (accumulation_watches × 0.5)
    + (meta_methods × 0.5)
    + (bias_adjustments × 0.5)
    + (simpson_checks × 0.5)

---
# Quality indicators (not scored, but tracked)
quality_indicators:
  - name: "Non-ergodic coverage"
    check: "All NON_ERGODIC risks have explicit handling"
    red_flag: "Any NON_ERGODIC risk tolerated without justification"

  - name: "Fat-tail coverage"
    check: "All FAT_TAIL risks use P90/P99 estimates"
    red_flag: "Fat-tail risks using simple expected value"

  - name: "Cobra check coverage"
    check: "100% of mitigations have Cobra Effect check"
    red_flag: "Any mitigation without Cobra check"

  - name: "Monitoring coverage"
    check: "≥70% of HIGH/CRITICAL risks have leading indicators"
    red_flag: "<70% coverage = flying blind"

  - name: "Owner assignment"
    check: "All TOLERATE decisions have owner + review date"
    red_flag: "Any tolerated risk without explicit ownership"
