---
id: capture-idea
name: "Capture and crystallize idea"
inputs:
  - "User's raw idea"
outputs:
  - artifacts/idea.md
next:
  success: identify-unknowns
  failure: retry
---

# Capture Idea

## Purpose
Transform a vague user idea into a structured problem statement with defined scope and success criteria.

## Algorithm (Step-by-Step)

1.  **INTERVIEW:** If the user's idea is too brief, ask:
    *   "Jaki konkretny problem to rozwiązuje?"
    *   "Kto jest docelowym użytkownikiem?"
    *   "Po czym poznamy, że odnieśliśmy sukces?"
    *   "Co jest poza zakresem (OUT of scope)?"
2.  **CRYSTALLIZE:** Draft the content for `artifacts/idea.md`.
3.  **CREATE ARTIFACT:** Write the content to `artifacts/idea.md`.
4.  **UPDATE STATE:**
    *   Open `.state/phase.yaml`.
    *   Update `phase_progress` to `0.5`.
    *   Add `artifacts/idea.md` to `current_artifacts`.
    *   Update `last_action` with `name: capture-idea`.
    *   Append an entry to `.state/history.yaml`.

## Output Schema (artifacts/idea.md)

```markdown
# Idea: {Project Name}

## Problem Statement
{One clear sentence}

## Target User
{Specific persona}

## Success Criteria
- {Measurable goal 1}
- {Measurable goal 2}

## Scope
### IN
- {Item}
### OUT
- {Item}
```

## Validation Rules
- [ ] Problem statement is exactly one sentence.
- [ ] At least 2 measurable success criteria are present.
- [ ] At least 2 OUT of scope items are identified.
- [ ] `.state/phase.yaml` reflects the new progress.
