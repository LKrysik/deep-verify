---
id: gate-idea-to-spec
type: gate
name: "Gate: Ideation to Specification"
inputs:
  - artifacts/idea.md
  - .state/unknowns.yaml
outputs:
  - .state/phase.yaml
next:
  success: phase:specification
  failure: capture-idea
status: pending
---

# Gate: Idea to Spec

## Purpose
Verify that the idea is sufficiently crystallized and safe to proceed to detailed specification.

## Validation Criteria (Threshold: 0.70)

### 1. Problem Clarity (Weight: 0.25)
*   **Check:** Is the problem statement in `artifacts/idea.md` a single, unambiguous sentence?
*   **Check:** Is the pain point clearly identified?

### 2. User Definition (Weight: 0.20)
*   **Check:** Is the target user defined as a specific persona, not a generic group?

### 3. Success Criteria (Weight: 0.20)
*   **Check:** Are there at least 2 measurable success criteria?

### 4. Scope Boundaries (Weight: 0.20)
*   **Check:** Are both IN-scope and OUT-of-scope lists present?

### 5. Unknowns Addressed (Weight: 0.15)
*   **Check:** Has the unknown detector been run?
*   **Check:** Are there any critical (high priority) unknowns that block the next phase?

## Instructions

1.  **Review:** detailedly review the input artifacts against the criteria above.
2.  **Score:** Assign a score (0.0 - 1.0) to each criterion.
3.  **Calculate:** Compute the weighted average.
4.  **Decide:**
    *   **IF Score >= 0.70:** Mark gate as PASSED. Update phase to `specification`.
    *   **IF Score < 0.70:** Mark gate as FAILED. List specific gaps. Recommend returning to `capture-idea`.

## State Updates
*   Update `.state/phase.yaml` with gate result (score, status, passed_at).
*   If passed, change `current_phase` to `specification`.
