---
id: identify-unknowns
name: "Identify what we don't know"
inputs:
  - artifacts/idea.md
  - .state/unknowns.yaml
outputs:
  - .state/unknowns.yaml
next:
  success: gate-idea-to-spec
  failure: retry
---

# Identify Unknowns

## Purpose
Proactively discover risks, assumptions, and knowledge gaps in the crystallized idea before proceeding.

## Algorithm (Step-by-Step)

1.  **READ:** Read `artifacts/idea.md`.
2.  **DETECT:** Scan the document for "Unknown Unknowns":
    *   **Assumptions:** Where is the user guessing?
    *   **Technical Risks:** What might be hard to build?
    *   **External Factors:** What depends on things outside our control?
3.  **UPDATE UNKNOWNS:**
    *   Read current `.state/unknowns.yaml`.
    *   Find the current sequence for `unknown`.
    *   For each discovery, create a new entry with ID `UNK-{NNN}`.
    *   Increment the sequence.
4.  **UPDATE PROGRESS:**
    *   Update `.state/phase.yaml` -> `phase_progress: 0.8`.
    *   Append entry to `.state/history.yaml`.

## Schema for .state/unknowns.yaml entry

```yaml
- id: "UNK-{NNN}"
  description: "{Clear description of the gap}"
  type: "technical|user|market|feasibility"
  priority: "high|medium|low"
  status: "discovered"
  discovered_at: "{timestamp}"
```

## Validation Rules
- [ ] At least 2 new unknowns are identified.
- [ ] Each unknown has a priority and type.
- [ ] The sequence in `unknowns.yaml` is correctly incremented.
- [ ] `.state/phase.yaml` progress is updated to 0.8.
